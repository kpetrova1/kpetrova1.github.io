import"./default-Bu-N4BzJ.js";import{a as c}from"./accordion-Di3Qdcco.js";import{t as i}from"./tabs-BnvDZ1L1.js";import"./utils-B7JEhPRY.js";const o=document.querySelector("[data-modal-faq-form]");o.addEventListener("submit",async t=>{t.preventDefault(),f(o);const r=new FormData(o);try{const e=await fetch("/faq/store-test",{method:"POST",body:r});if(e.status===202){u(o,"Ваш вопрос отправлен!"),o.reset();return}if(e.status===422){const s=await e.json();l(o,s.errors);return}e.status>=500&&n(o,"Что-то пошло не так. Попробуйте чуть позже.")}catch{n(o,"Ошибка сети. Попробуйте позже.")}});function l(t,r){Object.keys(r).forEach(e=>{const s=r[e],a=d(t,e);a&&m(a,s[0])})}function d(t,r){return t.querySelector(`[name="${r}"]`)}function m(t,r){t.classList.add("field_error");const e=document.createElement("div");e.className="field__error-message",e.textContent=r,t.insertAdjacentElement("afterend",e)}function f(t){t.querySelectorAll(".field-error").forEach(e=>e.classList.remove("field-error")),t.querySelectorAll(".field-error-message").forEach(e=>e.remove());const r=t.querySelector(".form-global-message");r&&r.remove()}function u(t,r){t.innerHTML=`
    <div class="form-success">
      <p>${r}</p>
    </div>
  `}function n(t,r){const e=document.createElement("div");e.className="form-global-message",e.textContent=r,t.prepend(e)}document.addEventListener("DOMContentLoaded",function(){i(),c()});

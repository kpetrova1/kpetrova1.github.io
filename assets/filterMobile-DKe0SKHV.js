function i(){const l=document.querySelector("[data-filter-selected]");document.querySelectorAll("[data-all-checkbox]").forEach(e=>{e.addEventListener("change",function(){const t=this.getAttribute("name");document.querySelectorAll(`[name="${t}"][data-checkbox]`).forEach(n=>{n.checked=this.checked}),s()})}),document.querySelectorAll("[data-checkbox]").forEach(e=>{e.addEventListener("change",function(){const t=this.getAttribute("name"),c=document.querySelector(`[name="${t}"][data-all-checkbox]`),n=document.querySelectorAll(`[name="${t}"][data-checkbox]`),a=Array.from(n).every(r=>r.checked),o=Array.from(n).every(r=>!r.checked);a?c.checked=!0:o?c.checked=!1:c.indeterminate=!0,s()})});function s(){l.innerHTML="";const e=document.querySelectorAll("[data-checkbox]:checked");e.forEach(c=>{const n=c.nextElementSibling.textContent,a=c.getAttribute("name"),o=document.createElement("li");o.className="selected-filter__item",o.innerHTML=`
        <span>${n}</span>
        <button class="selected-filter__remove-button" type="button" aria-label="Удалить фильтр" data-remove-filter="${a}:${n}">
          <svg viewBox="0 0 22 22" width="22" height="22">
            <use href="/sprite.svg#cross-icon-2" x="0" y="0"></use>
          </svg>
        </button>
      `,l.appendChild(o)});const t=document.querySelector("[data-counter]");e.length>0?(t.textContent=e.length,t.classList.remove("is-hidden")):t.classList.add("is-hidden")}l.addEventListener("click",function(e){if(e.target.closest("[data-remove-filter]")){const t=e.target.closest("[data-remove-filter]").getAttribute("data-remove-filter"),[c,n]=t.split(":");document.querySelectorAll(`[name="${c}"][data-checkbox]`).forEach(o=>{o.nextElementSibling.textContent===n&&(o.checked=!1,o.dispatchEvent(new Event("change")))})}})}export{i as f};

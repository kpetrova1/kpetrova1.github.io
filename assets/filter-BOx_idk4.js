function d(){document.querySelectorAll("[data-sort-button]").forEach(a=>{a.addEventListener("click",e=>{a.querySelector("svg").classList.toggle("is-inverted")})})}function i(){const r=document.querySelector("[data-sort-selected]");document.querySelectorAll("[data-all-checkbox]").forEach(e=>{e.addEventListener("change",function(){const t=this.getAttribute("name");document.querySelectorAll(`[name="${t}"][data-checkbox]`).forEach(n=>{n.checked=this.checked}),a()})}),document.querySelectorAll("[data-checkbox]").forEach(e=>{e.addEventListener("change",function(){const t=this.getAttribute("name"),c=document.querySelector(`[name="${t}"][data-all-checkbox]`),n=document.querySelectorAll(`[name="${t}"][data-checkbox]`),s=Array.from(n).every(l=>l.checked),o=Array.from(n).every(l=>!l.checked);s?c.checked=!0:o?c.checked=!1:c.indeterminate=!0,a()})});function a(){r.innerHTML="";const e=document.querySelectorAll("[data-checkbox]:checked");e.forEach(c=>{const n=c.nextElementSibling.textContent,s=c.getAttribute("name"),o=document.createElement("li");o.className="selected-filter__item",o.innerHTML=`
        <span>${n}</span>
        <button class="selected-filter__remove-button" type="button" aria-label="Удалить фильтр" data-remove-filter="${s}:${n}">
          <svg viewBox="0 0 22 22" width="22" height="22">
            <use href="/sprite.svg#cross-icon-2" x="0" y="0"></use>
          </svg>
        </button>
      `,r.appendChild(o)});const t=document.querySelector("[data-counter]");e.length>0?(t.textContent=e.length,t.classList.remove("is-hidden")):t.classList.add("is-hidden")}r.addEventListener("click",function(e){if(e.target.closest("[data-remove-filter]")){const t=e.target.closest("[data-remove-filter]").getAttribute("data-remove-filter"),[c,n]=t.split(":");document.querySelectorAll(`[name="${c}"][data-checkbox]`).forEach(o=>{o.nextElementSibling.textContent===n&&(o.checked=!1,o.dispatchEvent(new Event("change")))})}})}export{i as f,d as s};

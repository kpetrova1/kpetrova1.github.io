function s(){const e=document.querySelectorAll("textarea[data-comment-textarea]");function o(){this.style.height="auto",this.style.height=this.scrollHeight+"px",this.scrollHeight>600?this.style.overflowY="auto":this.style.overflowY="hidden"}e.forEach(t=>{t.addEventListener("input",o),o.call(t)})}function m(e,o){const t=document.querySelectorAll(e);!t.length>0||t.forEach(c=>{c.querySelector(o).addEventListener("click",function(a){c.classList.toggle("is-open")})})}function u(){document.body.addEventListener("click",function(e){if(e.target.hasAttribute("data-comment-answer")&&!e.target.hasAttribute("data-form-added")){const o=e.target.closest("[data-comment]");if(o){const t=o.querySelector("[data-comment-text]");if(t){const c=t.cloneNode(!0),n=c.querySelector("blockquote");n&&n.remove();const a=document.createElement("blockquote");a.innerHTML=c.innerHTML;const r=document.querySelector("[data-comment-template]");if(r){const l=r.content.cloneNode(!0),i=l.querySelector("textarea");if(i){const d=a.outerHTML.replace(/\n/g," ").replace(/\s+/g," ");i.value=d}o.appendChild(l),s(),e.target.setAttribute("data-form-added","true")}}}}})}function f(){document.body.addEventListener("click",function(e){if(e.target.hasAttribute("data-comment-edit")&&!e.target.hasAttribute("data-form-added")){const o=e.target.closest("[data-comment]");if(console.log(o),o){const t=o.querySelector("[data-comment-text]");if(t){const c=t.cloneNode(!0).innerHTML,n=document.querySelector("[data-comment-template]");if(n){const a=n.content.cloneNode(!0),r=a.querySelector("textarea");if(r){const l=c.replace(/\n/g," ").replace(/\s+/g," ");r.value=l}o.appendChild(a),s(),e.target.setAttribute("data-form-added","true")}}}}})}function p(e,o){const t=document.createElement("div");t.classList.add("custom-tooltip"),t.innerHTML=o,t.style.display="none",document.body.appendChild(t),document.querySelectorAll(`[${e}]`).forEach(n=>{n.addEventListener("click",function(a){const r=a.target.getBoundingClientRect();t.style.position="absolute",t.style.left=`${r.left+window.scrollX}px`,t.style.top=`${r.bottom+window.scrollY}px`,t.style.display="block",document.addEventListener("click",function l(i){!t.contains(i.target)&&i.target!==n&&(t.style.display="none",document.removeEventListener("click",l))})})}),window.addEventListener("resize",function(){t.style.display="none"})}export{s as a,m as b,u as c,f as d,p as e};
